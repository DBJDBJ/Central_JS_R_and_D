<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>DBJ_SOUND&trade;jQuery page dbj_sound plugin</title>
<link rel="stylesheet" href="../dbj.css" />
<style type="text/css" media="all">
.dbj_on      { border:1px solid black; min-width:50mm; margin-left:3px; margin-right:13px; background-color:Red; }
.dbj_off     { border:1px solid black; min-width:50mm; margin-left:3px; margin-right:13px; background-color:transparent; }
button       { font:bolder 24px/1.5 sans serif, courier new; text-align:left; margin-left:22px; padding:3px 3px 3px 13px; margin:9px; width:400px; display:block; }
.dbj_sound   {/* Use this to tag the elements to be used by dbj-dbj_sound plugin. An empty class*/}
#documentation #licence { width:99%; }
</style>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" type="text/javascript" id="JQ.1.3" ></script>
<script src="jquery.dbj_sound.js" type="text/javascript"></script>
<script type="text/javascript" >
// send to the cache the sound files used in this page
	$.dbj_sound.cache(
	"sound/beat.wav", "sound/start.wav", "sound/thrill.wav", "sound/bell.wav",
	"sound/beat.mp3", "sound/start.mp3", "sound/thrill.mp3", "sound/bell.mp3"
	);
</script>				
</head>					
<body>
<a id="#demo" />
<h3 style="float:left;">DBJ_SOUND&trade; 1.0.3</h3>
<h6>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MINIMAL CROSS BROWSER SOUND ENABLER, jQuery&trade; plugin </h6>
<div style="float:left;">
    <button >Play</button>
	<button href="sound/beat.wav" class="dbj_sound" >beat.wav</button>
	<button href="sound/start.wav" class="dbj_sound" >start.wav</button>
	<button href="sound/thrill.wav" class="dbj_sound" >thrill.wav</button>
	<button href="sound/bell.wav" class="dbj_sound" >bell.wav&nbsp;</button>
</div>
<div style="float:left;">
    <button >Loop</button>
	<button href="sound/beat.mp3" class="dbj_sound" >beat.mp3</button>
	<button href="sound/start.mp3" class="dbj_sound" >start.mp3</button>
	<button href="sound/thrill.mp3" class="dbj_sound" >thrill.mp3</button>
	<button href="sound/bell.mp3" class="dbj_sound" >bell.mp3&nbsp;</button>
</div>
<div style="float:left;" id="info" >
</div>
<div style="float:left;" >
<button id="toggle">Master Switch</button>
</div>
<a id="#documentation" />
<h3 style="clear:both;">Documentation</h3>
<pre id="documentation">
  
  To start with, first include the jquery and then this plugin source:
  
  &lt;script src="jquery.dbj_sound.js" type="text/javascript" &gt;&lt;/script&gt;
  
  Any valid dom element with  attribute 'href' can be a 'sound host'. For example:
  
  &lt;button href="sound/beat.mp3" class="dbj_sound" &gt;beat.mp3&lt;/button&gt;

  Before choosing a sound file, please check all the browser and platform combinations. For example my "Chrome" on XP PRO, does not play mp3 files, only wav's. IE7 plays
  both mp3 and wav's and FF3 plays both mp3 and wav's. 
  
  This plugin does not use any sound playback control. Like Flash, etc. Which makes your page lighter, but this is a small prices to pay. Currently WAV's should play on
  all platform/browser combinations. This plugin is not checked on Macintosh and on  mobile devices.
  
  This is made deliberately to be a minimal and simple page sound "enabler". For developing complex multimedia solutions please use
  Flash&trade; or SilverLight&trade;
</pre>
  <h3>API</h3>
<pre id="API" >  
    $.dbj_sound.url( host_element ) // return sound file url from host element. host must be valid html element with attribute href present
 
    $.dbj_sound.play( host_element, looping ) // play a sound as defined by the href of the host_element. if looping arg present, then loop
 
    $.dbj_sound.loop( host_element ) // loop (play and repeat "forever") a sound as defined by the href of the host_element
 
    $.dbj_sound.stop( host_element ) // stop a playback of the sound from the href of the host_element
  
    $.dbj_sound.playing( host_element ) // return true if sounds are on and sound defined by href of the host_element is playing
  
    $.dbj_sound.enabledisable( host_element ) // toggle on/off all sounds on the current page, controlled by this plugin
    
    // V 1.0.3
    $.dbj_sound.cache(
	"sound/beat.wav", "sound/start.wav", "sound/thrill.wav", "sound/bell.wav",
	"sound/beat.mp3", "sound/start.mp3", "sound/thrill.mp3", "sound/bell.mp3"
	);
	// cache sound files to be used in the page. do this as soon as possible
	// even before $(document).ready() 
</pre>
<a id="#licence" />
<p id="licence" >
<a href="http://dbj.org">&copy 2009 by DBJ.ORG</a>
<a href="http://www.opensource.org/licenses/mit-license.php">Licenced under the MIT licence</a>
</p>
</body>
<script type="text/javascript" >
	$(function() {

		$("<p/>").prepend(window.navigator.userAgent ).prependTo("#info") ;
		var sound_selector = ".dbj_sound";  // "*[href$=.wav]";
		
		// click for all the WAV's
		$("*[href$=.wav]").click(function() {

			if ($.dbj_sound.playing(this)) {$.dbj_sound.stop(this);
			}
			else {$.dbj_sound.play(this);
			}
			return false;
		});

		// click for all the MP3's
		$("*[href$=.mp3]").click(function() {
			if ($.dbj_sound.playing(this)) {$.dbj_sound.stop(this);
			}
			else {	$.dbj_sound.loop(this); }
			return false;
		});

		$("#toggle").click(function() {
			$.dbj_sound.enabledisable();
			$(this).text($.dbj_sound.enabled ? "Disable Sounds" : "Enable Sounds");
		})
		//-------------------------------------------
		function sound_signaller() {

			$(sound_selector).each(function() {
				try { $(this).find("span").remove(); } catch (x) { }
				if ($.dbj_sound.playing(this)) {
					$(this).prepend("<span class=dbj_on >&nbsp</span>");
				}
				else {
					$(this).prepend("<span class=dbj_off >&nbsp</span>");
				}
			});
		}
		var iid = setInterval(sound_signaller, 100);
		//-------------------------------------------
	});
</script>
</html>