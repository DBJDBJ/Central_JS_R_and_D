<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>DBJ_SOUND&trade;jQuery page dbj_sound plugin</title>
<link href="../dbj+metro/jquery.metro.css" rel="stylesheet" type="text/css" />
	<style type="text/css" media="all">
.dbj_on      { border:1px solid black; min-width:50mm; margin-left:3px; margin-right:13px; background-color:Red; }
.dbj_off     { border:1px solid black; min-width:50mm; margin-left:3px; margin-right:13px; background-color:transparent; }
button       { font:bolder 24px/1.5 sans serif, courier new; text-align:left; padding:3px 3px 3px 13px; margin:1px; width:200px; }
.dbj_sound   {/* Use this to tag the elements to be used by dbj-dbj_sound plugin. An empty class*/}
#documentation #licence { width:99%; }
</style>
<script src="http://code.jquery.com/jquery-1.8.1.min.js" type="text/javascript" id="JQ.1.3" ></script>
    <script type="text/javascript" src="../dbj+metro/jquery.metro.js"></script>
    <script type="text/javascript" src="../dbj+metro/jquery.cookie.js"></script>
    <script type="text/javascript" src="../dbj+metro/jquery.jush.js"></script>
    <link type="text/css" rel="Stylesheet" href='../dbj+metro/jquery.metro.css' />
    <link type="text/css" rel="Stylesheet" href='../dbj+metro/jush.css' />
    <link type="text/css" rel="Stylesheet" href='../dbj+metro/styles.css' />
	<script src="jquery.dbj_sound.js" type="text/javascript"></script>
<script type="text/javascript" >
// send to the cache the sound files used in this page
	$.dbj_sound.cache(
	"sound/beat.wav", "sound/start.wav", "sound/thrill.wav", "sound/bell.wav",
	"sound/beat.mp3", "sound/start.mp3", "sound/thrill.mp3", "sound/bell.mp3"
	);
</script>				
</head>					
<body  accent='red' theme="light" >
    <div class='page'>
        <div class='top-banner'>
        theme:
        <span class='theme-box' theme="dark"  title="dark" ></span>
        <span class='theme-box' theme="light" title="light" ></span>
        accent color:
        <span class='accent-box' accent="orange"  title="orange"  ></span>
        <span class='accent-box' accent="red"     title="red"     ></span>
        <span class='accent-box' accent="green"   title="green"   ></span>
        <span class='accent-box' accent="blue"    title="blue"    ></span>
        <span class='accent-box' accent="magenta" title="magenta" ></span>
        <span class='accent-box' accent="purple"  title="purple" ></span>
        <span class='accent-box' accent="pink"    title="pink"    ></span>
        <span class='accent-box' accent="teal"    title="teal"    ></span>
        <span class='accent-box' accent="lime"    title="lime"    ></span>
        <span class='accent-box' accent="brown"   title="brown"  ></span>
    </div>
        <h1 class='accent-color'>DBJ+SOUND&trade; 1.0.3</h1>
        <div class='apptitle'>
  
        <span class='accent-color'>DBJ.ORG</span> MINIMAL CROSS BROWSER SOUND ENABLER, jQuery&trade; plugin </h5>
        &nbsp;&nbsp;
        <span style='font-size:72px; font-weight:bold; text-decoration:none;'>
           <button href='javascript:pivot_previous();'>&nbsp;<&nbsp;</button>
           <button href='javascript:pivot_next();'>&nbsp;>&nbsp;</button>
        </span>
    </div>
<div class='metro-pivot' id="demo-pivot" >
    <div class='pivot-item'>
<span style="float:left;width:200px; margin:5px;">
    <button >Play</button>
	<button href="sound/beat.wav" class="dbj_sound" >beat.wav</button>
	<button href="sound/start.wav" class="dbj_sound" >start.wav</button>
	<button href="sound/thrill.wav" class="dbj_sound" >thrill.wav</button>
	<button href="sound/bell.wav" class="dbj_sound" >bell.wav&nbsp;</button>
</span>
<span style="float:left;width:200px;margin:5px;">
    <button >Loop</button>
	<button href="sound/beat.mp3" class="dbj_sound" >beat.mp3</button>
	<button href="sound/start.mp3" class="dbj_sound" >start.mp3</button>
	<button href="sound/thrill.mp3" class="dbj_sound" >thrill.mp3</button>
	<button href="sound/bell.mp3" class="dbj_sound" >bell.mp3&nbsp;</button>
</span>
<span id="info" ></span>
<button id="toggle" >Master Switch</button>
</div>
</div>
<!------------------------------------------------------------------------------->
<div class='metro-pivot' id="documentation-pivot">
    <div class='pivot-item'>
<h3>Documentation</h3>
<code id="documentation">
  To start with, first include the jquery and then this plugin source:
  <pre class='jush jush-js'>
  &lt;script src="jquery.dbj_sound.js" type="text/javascript" &gt;&lt;/script&gt;
  </pre>
  Any valid dom element with  attribute 'href' can be a 'sound host'. For example:
  
  <pre class='jush jush-js'>
  &lt;button href="sound/beat.mp3" class="dbj_sound" &gt;beat.mp3&lt;/button&gt;
</pre>
  Before choosing a sound file, please check all the browser and platform combinations. For example my "Chrome" on XP PRO, does not play mp3 files, only wav's. IE7 plays
  both mp3 and wav's and FF3 plays both mp3 and wav's. 
  
  This plugin does not use any sound playback control. Like Flash, etc. Which makes your page lighter, but this is a small prices to pay. Currently WAV's should play on
  all platform/browser combinations. This plugin is not checked on Macintosh and on  mobile devices.
  
  This is made deliberately to be a minimal and simple page sound "enabler". For developing complex multimedia solutions please use
  Flash&trade; or SilverLight&trade;
</code>
</div>
</div>
<!------------------------------------------------------------------------------->
<div class='metro-pivot' id="api-pivot">
    <div class='pivot-item'>
  <h3>API</h3>
<pre id="API" class='jush jush-js'>  
    $.dbj_sound.url( host_element ) // return sound file url from host element. host must be valid html element with attribute href present
 
    $.dbj_sound.play( host_element, looping ) // play a sound as defined by the href of the host_element. if looping arg present, then loop
 
    $.dbj_sound.loop( host_element ) // loop (play and repeat "forever") a sound as defined by the href of the host_element
 
    $.dbj_sound.stop( host_element ) // stop a playback of the sound from the href of the host_element
  
    $.dbj_sound.playing( host_element ) // return true if sounds are on and sound defined by href of the host_element is playing
  
    $.dbj_sound.enabledisable( host_element ) // toggle on/off all sounds on the current page, controlled by this plugin
    
    // V 1.0.3
    $.dbj_sound.cache(
	"sound/beat.wav", "sound/start.wav", "sound/thrill.wav", "sound/bell.wav",
	"sound/beat.mp3", "sound/start.mp3", "sound/thrill.mp3", "sound/bell.mp3"
	);
	// cache sound files to be used in the page. do this as soon as possible
	// even before $(document).ready() 
</pre>
</div >
</div >
<!------------------------------------------------------------------------------->
<div class='metro-pivot' id="licence">
<div class='pivot-item'>
<a href="http://dbj.org">&copy 2009 by DBJ.ORG</a>
<a href="http://www.opensource.org/licenses/mit-license.php">Licenced under the MIT licence</a>
</div >
</div >
<!--- page end --->
</div>
</body>
<script type="text/javascript" >
	$(function() {

		$("<p/>").prepend(window.navigator.userAgent ).prependTo("#info") ;
		var sound_selector = ".dbj_sound";  // "*[href$=.wav]";
		
		// click for all the WAV's
		$("*[href$='.wav']").click(function() {

			if ($.dbj_sound.playing(this)) {$.dbj_sound.stop(this);
			}
			else {$.dbj_sound.play(this);
			}
			return false;
		});

		// click for all the MP3's
		$("*[href$='.mp3']").click(function() {
			if ($.dbj_sound.playing(this)) {$.dbj_sound.stop(this);
			}
			else {	$.dbj_sound.loop(this); }
			return false;
		});

		$("#toggle").click(function() {
			$.dbj_sound.enabledisable();
			$(this).text($.dbj_sound.enabled ? "Disable Sounds" : "Enable Sounds");
		})
		//-------------------------------------------
		function sound_signaller() {

			$(sound_selector).each(function() {
				try { $(this).find("span").remove(); } catch (x) { }
				if ($.dbj_sound.playing(this)) {
					$(this).prepend("<span class=dbj_on >&nbsp</span>");
				}
				else {
					$(this).prepend("<span class=dbj_off >&nbsp</span>");
				}
			});
		}
		var iid = setInterval(sound_signaller, 100);
		//-------------------------------------------
	});
</script>

     <script type="text/javascript" id="metro_theme_init" >
     	$(function () {
     		$("div.metro-pivot").metroPivot();
     		$("span.theme-box").click(theme_Changed);
     		$("span.accent-box").click(accent_Changed);

     		$('.jush').jush();

     		// restore state
     		if ($.cookie("jquery.metro.theme") != null) $(document.body).attr("theme", $.cookie("jquery.metro.theme"));
     		if ($.cookie("jquery.metro.accent") != null) $(document.body).attr("accent", $.cookie("jquery.metro.accent"));
     	});

     	function accent_Changed() {
     		var accent = $(this).attr("accent");
     		$(document.body).attr("accent", accent);
     		$.cookie("jquery.metro.accent", accent);
     	}
     	function theme_Changed() {
     		var theme = $(this).attr("theme");
     		$(document.body).attr("theme", theme);
     		$.cookie("jquery.metro.theme", theme);
     	}
     	function pivot_previous() { $("div.metro-pivot").data("controller").goToPrevious(); }
     	function pivot_next() { $("div.metro-pivot").data("controller").goToNext(); }
     	function pivot_goTo(header) { $("div.metro-pivot").data("controller").goToItemByName(header); }
     	function pivot_goToIndex(index) { $("div.metro-pivot").data("controller").goToItemByIndex(index); }
    </script>
</html>